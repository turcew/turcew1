<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Contact Agridera Seeds & Agriculture Ltd.</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="theme-color" content="#000000"/>
    <meta name="Contact Us" content="Contact Us"/>
    <link rel="stylesheet" type="text/css" href="./css/ContactUs.css"/>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
</head>
<body>
    <div class="contact-us">

        <div class="column_three">
            <div class="banner">
                <img src="images/Banner.jpg" alt="Banner" class="imageseven_one"/>
            </div>
            <div class="contact-us-1">
                <a href="#">
                    <h2 class="ui heading size-headings">Contact us</h2>
                </a>
                <img src="images/Cross.png" alt="Settings" class="contact-us__settings-icon"/>
            </div>

            <div class="cart-table" id="app">
                <h3>Your Cart</h3>
                <table v-if="cart.length > 0">
                    <thead>
                        <tr>
                            <th>Image</th>
                            <th>Title</th>
                            <th>Description</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="item in cart" :key="item.id">
                            <td><img :src="'../ПР2/assets/img/' + item.image" alt="Product" style="width: 50px; height: auto;"></td>
                            <td>{{ item.title }}</td>
                            <td>{{ item.short_text }}</td>
                            <td><span class="remove-icon" @click="removeFromCart(item.id)">×</span></td>
                        </tr>
                    </tbody>
                </table>
                <p v-else>No items in cart.</p>

                <!-- Form -->
                <form @submit.prevent="makeOrder" class="form">
                    <div class="form__column">
                        <div class="form__column--name">
                            <p class="ui text size-textmd">Name <span style="color: red;">*</span></p>
                            <label class="form__input--name ui input white_a700 size-sm fill round">
                                <input v-model="contactFields.name" name="name" type="text" required />
                            </label>
                        </div>
                        <div class="form__column--name">
                            <p class="ui text">Company Name</p>
                            <label class="form__input--name ui input white_a700 size-sm fill round">
                                <input v-model="contactFields.company" name="company" type="text" />
                            </label>
                        </div>
                        <div class="form__column--name">
                            <p class="ui text">Position</p>
                            <label class="form__input--name ui input white_a700 size-sm fill round">
                                <input v-model="contactFields.position" name="position" type="text" />
                            </label>
                        </div>
                        <div class="form__column--name">
                            <p class="ui text">City</p>
                            <label class="form__input--name ui input white_a700 size-sm fill round">
                                <input v-model="contactFields.city" name="city" type="text" />
                            </label>
                        </div>
                        <div class="form__column--name">
                            <p class="ui text">Country</p>
                            <label class="form__input--name ui input white_a700 size-sm fill round">
                                <input v-model="contactFields.country" name="country" type="text" />
                            </label>
                        </div>
                        <div class="form__column--name">
                            <p class="ui text">Telephone</p>
                            <label class="form__input--name ui input white_a700 size-sm fill round">
                                <input v-model="contactFields.phone" name="phone" type="number" />
                            </label>
                        </div>
                        <div class="form__column--name">
                            <p class="ui text size-textmd">Email <span style="color: red;">*</span></p>
                            <label class="form__input--name ui input white_a700 size-sm fill round">
                                <input v-model="contactFields.email" name="email" type="email" required />
                            </label>
                        </div>
                    </div>
                    <div class="form__column--details">
                        <div class="form__column--youare">
                            <p class="ui text">You are a</p>
                            <select v-model="contactFields.youare" class="form__dropdown--youare ui selectbox white_a700 size-xs fill round" name="youare" required>
                                <option value="">Select an option</option>
                                <option value="option1">Option1</option>
                                <option value="option2">Option2</option>
                                <option value="option3">Option3</option>
                            </select>
                        </div>
                        <div class="form__column--other">
                            <p class="ui text">If other, please specify</p>
                            <label class="form__input--other ui input white_a700 size-sm fill round">
                                <input v-model="contactFields.other" name="other" type="text" />
                            </label>
                        </div>
                        <div class="form__column--youare">
                            <p class="ui text">You are interested in</p>
                            <textarea v-model="contactFields.interest" class="form__textarea--interest ui textarea white_a700 size-xs taroutlinebluegray100 round" name="interest" required></textarea>
                        </div>
                        <div class="form__column--youare">
                            <p class="ui text">Please type this code</p>
                            <div class="form__row--code">
                                <img src="images/Captcha.png" alt="Captcha" class="form__image--code" />
                                <label class="form__input--code ui input white_a700 size-sm fill round">
                                    <input v-model="contactFields.captcha" name="captcha" type="text" required />
                                </label>
                                <button class="form__button--send ui button buttons size-xs fill round" type="submit">Send Message</button>
                            </div>
                        </div>
                    </div>
                </form>

                <div v-if="orderSubmitted">
                    <h3>Order Submitted</h3>
                    <p><strong>Name:</strong> {{ contactFields.name }}</p>
                    <p><strong>Company:</strong> {{ contactFields.company }}</p>
                    <p><strong>Position:</strong> {{ contactFields.position }}</p>
                    <p><strong>City:</strong> {{ contactFields.city }}</p>
                    <p><strong>Country:</strong> {{ contactFields.country }}</p>
                    <p><strong>Telephone:</strong> {{ contactFields.phone }}</p>
                    <p><strong>Email:</strong> {{ contactFields.email }}</p>
                    <p><strong>You are a:</strong> {{ contactFields.youare }}</p>
                    <p><strong>If other, specify:</strong> {{ contactFields.other }}</p>
                    <p><strong>Interested in:</strong> {{ contactFields.interest }}</p>
                    <p><strong>Captcha:</strong> {{ contactFields.captcha }}</p>
                </div>
            </div>

            <div class="rowouraddress">
                <div class="contact-details">
                    <h2 class="contact-details__title ui heading size-headingxs">Our Address</h2>
                    <div class="contact-details__divider"></div>
                    <p class="contact-details__address ui text">
                        <span class="contact-details__address-span">
                            AGRIDERA Seeds & Agriculture Ltd.<br />P.O Box 103,<br />Gedera 70750, Israel.<br />Telephone:</span>
                        <span><a href="tel:+97289449222" class="contact-details__address-span-1">+97289449222</a></span>
                    </p>
                </div>
            </div>
            <div class="footer">
            </div>
        </div>
    </div>

    <script>
        var app = new Vue({
            el: '#app',
            data: {
                products: [
                    { id: 1, title: "Prod 1", short_text: "Fresh green onion variety", image: "green_onion_1.jpg", desc: "A high-quality green onion with excellent flavor and disease resistance." },
                    { id: 2, title: "Prod 2", short_text: "Organic green onion", image: "green_onion_2.jpg", desc: "Organically grown green onion, perfect for salads." },
                    { id: 3, title: "Prod 3", short_text: "Long-stem green onion", image: "green_onion_3.jpg", desc: "Long-stem variety ideal for cooking and garnishing." },
                    { id: 4, title: "Prod 4", short_text: "Disease-resistant green onion", image: "green_onion_4.jpg", desc: "Resistant to common pests and diseases." },
                    { id: 5, title: "Prod 5", short_text: "Premium green onion", image: "green_onion_5.jpg", desc: "Premium quality green onion for commercial use." }
                ],
                cart: [],
                contactFields: {
                    name: '',
                    company: '',
                    position: '',
                    city: '',
                    country: '',
                    phone: '',
                    email: '',
                    youare: '',
                    other: '',
                    interest: '',
                    captcha: ''
                },
                orderSubmitted: false
            },
            mounted: function() {
                this.getCart();
            },
            methods: {
                getCart: function() {
                    if (window.localStorage.getItem('cart')) {
                        const cartIds = window.localStorage.getItem('cart').split(',');
                        this.cart = this.products.filter(product => cartIds.includes(String(product.id)));
                    }
                },
                removeFromCart: function(id) {
                    this.cart = this.cart.filter(item => item.id !== id);
                    const remainingIds = this.cart.map(item => item.id);
                    if (remainingIds.length > 0) {
                        window.localStorage.setItem('cart', remainingIds.join(','));
                    } else {
                        window.localStorage.removeItem('cart');
                    }
                },
                makeOrder: function() {
                    if (!this.contactFields.name || !this.contactFields.email || !this.contactFields.youare || !this.contactFields.interest || !this.contactFields.captcha) {
                        alert('Please fill in all required fields.');
                        return;
                    }

                    this.orderSubmitted = true;
                    console.log('Order submitted:', this.contactFields);

                    this.cart = [];
                    window.localStorage.removeItem('cart');
                }
            }
        });
    </script>
</body>
</html>
